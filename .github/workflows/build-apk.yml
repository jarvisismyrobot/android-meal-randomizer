name: Build APK\n\non:\n  push:\n    branches: [ &quot;master&quot; ]\n  pull_request:\n    branches: [ &quot;master&quot; ]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v4\n\n    - name: set up JDK 17\n      uses: actions/setup-java@v4\n      with:\n        distribution: 'temurin'\n        java-version: '17'\n\n    - name: Grant execute permission for gradlew\n      run: chmod +x gradlew\n\n    - name: Cache Gradle packages\n      uses: actions/cache@v4\n      with:\n        path: |\n          ~/.gradle/caches\n          ~/.gradle/wrapper\n        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}\n        restore-keys: |\n          ${{ runner.os }}-gradle-\n\n    - name: Build with Gradle\n      run: ./gradlew assembleDebug --stacktrace\n\n    - name: Upload APK\n      uses: actions/upload-artifact@v4\n      with:\n        name: app-debug.apk\n        path: app/build/outputs/apk/debug/app-debug.apk\n        retention-days: 30